# BRO 予約システム 要件定義（01_requirements.md）

## 1. 目的（Purpose）

BROは **ボーイ（スタッフ）とお客様をつなぐ予約管理サービス**である。  
本システムの目的は以下とする。

- お客様が簡単に予約問い合わせを行えること
- ボーイが無理なく予約可否を判断できること
- 管理者が全体状況を把握・管理できること
- 将来的な自動化・拡張に耐えられる基盤を作ること

※ 本ドキュメントは **MVP（最小実用プロダクト）段階の要件**を定義する。

---

## 2. システムの範囲（Scope）

### 2.1 含めるもの（MVP）

- 予約問い合わせの作成
- ボーイによる承認 / キャンセル
- 管理画面での予約一覧確認
- ステータス管理（未承認 / 承認済み / キャンセル）

### 2.2 含めないもの（将来対応）

- オンライン決済の自動処理
- 会員登録 / ログイン
- リピーター情報の自動入力
- 複雑なキャンセル料計算
- 外部HPとの完全連動

※ これらは `04_future_ideas.md` にて管理する。

---

## 3. 利用者の種類（Actors）

### 3.1 お客様（Customer）

- 予約問い合わせを行う
- 予約確定 / キャンセルの通知を受け取る

### 3.2 ボーイ（Staff）

- 自分宛の予約問い合わせを確認する
- 予約の承認 / 不可判断を行う

### 3.3 管理者（Admin）

- 全予約の一覧・状態を確認する
- 必要に応じて手動対応を行う

---

## 4. 予約フロー（MVP版）

1. お客様が予約ページにアクセス
2. スタッフを選択
3. 日付・時間を選択
4. 予約内容を入力
5. 予約問い合わせを送信（ステータス：未承認）
6. ボーイが内容を確認
7. 承認 or キャンセル
8. ステータスに応じて通知が送信される

※ 詳細な画面遷移は `02_user_flow.md` に記載する。

---

## 5. 予約情報（Reservation）

### 5.1 必須項目

- スタッフ名
- 日付
- 時間
- コース時間（例：60 / 90 / 120 分）
- 名前（仮名可）
- 電話番号
- メールアドレス

### 5.2 任意項目

- バックプレイ有無
- オプション（複数選択可）
- その他要望（自由記述）

---

## 6. 予約ステータス（Status）

| ステータス | 説明 |
|------------|------|
| pending | 未承認（問い合わせ状態） |
| approved | 承認済み |
| canceled | キャンセル |

---

## 7. ボーイ側の制約

- ボーイは **お客様の電話番号・メールアドレスを直接閲覧しない**
- 管理者は全情報を閲覧可能
- ボーイが行える操作は以下に限定する  
  - 承認  
  - キャンセル  

---

## 8. 管理画面要件（Admin / Staff）

- 予約一覧を確認できる
- カードUI / リストUIを切り替え可能
- 未承認予約のみ表示するフィルタ
- 各予約に対して以下操作が可能  
  - 承認  
  - キャンセル  

---

## 9. 非機能要件

### 9.1 UX

- スマホ利用を最優先とする
- 文字は十分なコントラストを確保する
- 操作は **3タップ以内** を目安とする

### 9.2 技術要件

- Next.js（App Router）
- Supabase（Database）
- Vercel によるデプロイ
- Client / Server Component を明確に分離する

---

## 10. 今後の拡張前提

以下は本ドキュメントでは扱わないが、  
将来的な拡張を前提として設計に考慮する。

- 空き枠制御の高度化
- コース時間による動的枠計算
- 決済連携
- 会員 / リピーター管理
- 自動通知（メール / LINE）

※ 詳細は `04_future_ideas.md` に記載する。

---

## 11. このドキュメントの扱い方

- 実装で迷った場合は **必ず本ドキュメントに立ち戻る**
- 本ドキュメントに記載のない機能は原則実装しない
- 要件変更時は **更新履歴を残す**